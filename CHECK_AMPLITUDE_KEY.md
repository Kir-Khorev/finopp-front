# üîë –ü—Ä–æ–≤–µ—Ä–∫–∞ API Key –¥–ª—è Amplitude

## –ü—Ä–æ–±–ª–µ–º–∞: 400 Bad Request

**–ü—Ä–∏—á–∏–Ω—ã:**

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API Key

Amplitude API –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
- **–î–ª–∏–Ω–∞:** 32+ —Å–∏–º–≤–æ–ª–æ–≤
- **–§–æ—Ä–º–∞—Ç:** –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤!)
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** Amplitude ‚Üí Settings ‚Üí Projects ‚Üí **API Key** (–ù–ï Secret Key!)

### 2. –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å API Key

#### –í Amplitude UI:
1. –û—Ç–∫—Ä–æ–π: https://analytics.amplitude.com
2. –ü–µ—Ä–µ–π–¥–∏: **Settings** (–∏–∫–æ–Ω–∫–∞ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏)
3. –í—ã–±–µ—Ä–∏: **Projects**
4. –ù–∞–π–¥–∏ –ø—Ä–æ–µ–∫—Ç: `https://servify.digital/` –∏–ª–∏ `servify.digital`
5. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –Ω–µ–≥–æ
6. –í–∫–ª–∞–¥–∫–∞: **API Keys**
7. –°–∫–æ–ø–∏—Ä—É–π: **API Key** (–¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, ~32 —Å–∏–º–≤–æ–ª–∞)

**–ù–ï –ø—É—Ç–∞–π:**
- ‚úÖ **API Key** ‚Äî –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π (–Ω—É–∂–µ–Ω —ç—Ç–æ—Ç!)
- ‚ùå **Secret Key** ‚Äî –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå **Project ID** ‚Äî ID –ø—Ä–æ–µ–∫—Ç–∞

#### –í `.env.local`:
```bash
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
VITE_AMPLITUDE_API_KEY=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚ùå (—Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π)
VITE_AMPLITUDE_API_KEY=abc123

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚ùå (–µ—Å—Ç—å –ø—Ä–æ–±–µ–ª—ã)
VITE_AMPLITUDE_API_KEY= a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6 
```

### 3. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env.local

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ dev server:**

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏ (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ
npm run dev
```

Vite –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç `.env` —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## –û—Ç–ª–∞–¥–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### 1. –ö–æ–Ω—Å–æ–ª—å
–°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏:
```
üìä API Key length: 32
üìä API Key preview: a1b2c3d4...o5p6
‚úÖ Amplitude initialized successfully
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å:
```
‚ùå Invalid Amplitude API key - too short: 6 chars
```
‚Üí –ü—Ä–æ–≤–µ—Ä—å `.env.local` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ `npm run dev`

### 2. Network ‚Üí Payload
–ö–ª–∏–∫–Ω–∏ –Ω–∞ **httpapi** –∑–∞–ø—Ä–æ—Å ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Payload**

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```json
{
  "api_key": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6",
  "events": [{
    "event_type": "Start Session",
    "user_id": "anonymous",
    "device_id": "cc95...",
    "time": 1702666740000
  }]
}
```

**–ï—Å–ª–∏ —Ç–∞–º:**
- `"api_key": ""` ‚Üí –∫–ª—é—á –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–∏–ª—Å—è
- `"api_key": "undefined"` ‚Üí –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è
- `"api_key": "abc123"` ‚Üí –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### ‚ùå –û—à–∏–±–∫–∞ 1: –ù–µ —Å–æ–∑–¥–∞–Ω .env.local
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `finopp-front/.env.local`:
```bash
VITE_API_URL=http://localhost:8080
VITE_AMPLITUDE_API_KEY=—Ç–≤–æ–π_–∫–ª—é—á_–∑–¥–µ—Å—å
```

### ‚ùå –û—à–∏–±–∫–∞ 2: –ó–∞–±—ã–ª VITE_ –ø—Ä–µ—Ñ–∏–∫—Å
```bash
# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚ùå
AMPLITUDE_API_KEY=...

# –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
VITE_AMPLITUDE_API_KEY=...
```

–í Vite –≤—Å–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `VITE_`!

### ‚ùå –û—à–∏–±–∫–∞ 3: –ù–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª dev server
–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env.local`:
```bash
# Ctrl+C —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm run dev  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
```

### ‚ùå –û—à–∏–±–∫–∞ 4: –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª Secret Key –≤–º–µ—Å—Ç–æ API Key
–í Amplitude –µ—Å—Ç—å –¥–≤–∞ –∫–ª—é—á–∞:
- **API Key** ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π (~32 —Å–∏–º–≤–æ–ª–∞) ‚Üí –Ω—É–∂–µ–Ω —ç—Ç–æ—Ç!
- **Secret Key** ‚Äî –¥–ª–∏–Ω–Ω—ã–π ‚Äî –ù–ï –Ω—É–∂–µ–Ω!

---

## –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] API Key —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∏–∑ Amplitude ‚Üí Settings ‚Üí Projects ‚Üí API Keys
- [ ] –î–ª–∏–Ω–∞ –∫–ª—é—á–∞ 32+ —Å–∏–º–≤–æ–ª–æ–≤
- [ ] –í `.env.local` –µ—Å—Ç—å `VITE_AMPLITUDE_API_KEY=...`
- [ ] –ù–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –¥–æ/–ø–æ—Å–ª–µ –∫–ª—é—á–∞
- [ ] Dev server –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env.local`
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏: `‚úÖ Amplitude initialized successfully`
- [ ] –í Network –≤–∏–¥–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –∫ `api2.amplitude.com` (–Ω–µ 400)

---

## –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ 400

–ü–æ–∫–∞–∂–∏ –≤ —á–∞—Ç–µ:
1. –°–∫—Ä–∏–Ω—à–æ—Ç **Network ‚Üí Payload** (httpapi –∑–∞–ø—Ä–æ—Å)
2. –õ–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ (üìä API Key length, üìä API Key preview)
3. –ü–µ—Ä–≤—ã–µ 8 —Å–∏–º–≤–æ–ª–æ–≤ —Ç–≤–æ–µ–≥–æ API Key –∏–∑ Amplitude UI

–Ø –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!

